### **프로젝트 개요**

이 프로젝트는 IRC(Internet Relay Chat) 프로토콜을 이해하고 C++로 상용 IRC 클라이언트에 대응할 수 있는 서버를 개발하는 것을 목적으로 합니다. <br> 다수의 클라이언트와 실시간으로 통신하는 서버를 직접 구현함으로써, 네트워크 프로그래밍의 기초를 다지고 효율적인 이벤트 처리 방식에 대한 깊은 경험을 쌓았습니다. <br>

---

### **프로젝트 중점 사항**

- **다중 클라이언트 지원**: `I/O multiplexing`의 `kqueue/kevent`를 활용하여 여러 클라이언트의 동시 접속을 효율적으로 처리하는 논블로킹(Non-blocking) 방식으로 구현했습니다.

- **서버 내부 설계**: IRC 서버의 핵심 서비스(사용자, 채널 관리 등)를 제공하기 위한 클래스 구조를 설계하고 구현했습니다.

- **미들웨어 패턴 도입**: 명령어 처리 로직 전후에 공통 검증 로직(인증, 등록 확인 등)을 수행하는 미들웨어를 도입하여, 각 명령어 핸들러의 책임을 분리하고 코드의 재사용성과 유지보수성을 높였습니다.

- **IRC 커맨드 처리**: `RFC 2812`를 기반으로 사용자에게 다양한 IRC 커맨드(`NICK`, `USER`, `JOIN`, `PART`, `PRIVMSG`, `QUIT`, `KICK` 등)를 제공합니다.

- **서버 로그**: 서버로 들어오는 요청에 대해 간략한 출력을 제공합니다. (별도 개발 예정)

---

### **기술 스택**

- **프로그래밍 언어**: C++ (C++98)

- **네트워크**: TCP/IP 소켓 프로그래밍, kqueue/kevent

- **빌드 도구**: Makefile

---

### **프로젝트 구조**

```
.
├── srcs/           # 소스 코드
│   ├── commands/   # IRC 명령어 처리 로직
│   ├── parser/     # 메시지 파싱 로직
│   └── ...         # 서버, 유저, 채널 등 핵심 로직
├── docs/
└── Makefile        # 빌드 스크립트
```

---

### **지원 커맨드**

- **CAP:** 기능 협상. `예시: /CAP LS`
- **INVITE:** 다른 사용자를 채널로 초대. `예시: /INVITE [닉네임] #[채널명]`
- **JOIN:** 채널 참여. `예시: /JOIN #[채널명]`
- **KICK:** 채널에서 강제 퇴장. `예시: /KICK #[채널명] [닉네임] :[사유]`
- **MODE:** 채널/사용자 속성 변경. `예시: /MODE #[채널명] +i`
- **NAMES:** 채널 사용자 목록 확인. `예시: /NAMES #[채널명]`
- **NICK:** 닉네임 설정/변경. `예시: /NICK [새 닉네임]`
- **PART:** 채널에서 나가기. `예시: /PART #[채널명]`
- **PASS:** 서버 접속 비밀번호 설정. `예시: /PASS [비밀번호]`
- **PING:** 서버 연결 상태 확인. `예시: /PING`
- **PRIVMSG:** 개인/채널 메시지 전송. `예시: /PRIVMSG #[채널명] :[메시지 내용]`
- **QUIT:** 서버 연결 종료. `예시: /QUIT`
- **TOPIC:** 채널 주제 설정/확인. `예시: /TOPIC #[채널명] :[새로운 주제]`

---

### **설치 및 실행 방법**

**1. 저장소 클론**

```bash
git clone git@github.com:funnyhun/IRC-Server.git
cd IRC-Server
```

**2. 컴파일 및 빌드**

```bash
make
```

**3. 서버 실행**

```bash
./ircserv <port> <password>
```

**4. 클라이언트 접속 (예: irssi)**

새 터미널을 열고 `irssi`를 실행한 후, 다음 명령어로 서버에 접속합니다.

```
irssi
/connect 127.0.0.1 6667 -password secretpass
```

---

### **참고 자료**

- [Modern IRC Protocol](https://modern.ircdocs.horse/)
